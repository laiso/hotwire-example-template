<h1>Messages</h1>

<turbo-frame id="messages">
  <% if @page.prev %>
    <%= link_to pagy_url_for(@page, @page.prev), rel: "prev", class: "hidden first-child:block",
          data: { turbo_rendering: "prepend" } do %>
      Previous page
    <% end %>
  <% end %>

  <% @messages.each do |message| %>
    <article>
      <%= message.content %>
    </article>
  <% end %>

  <% if @page.next %>
    <%= link_to pagy_url_for(@page, @page.next), rel: "next", class: "hidden last-child:block",
          data: { turbo_rendering: "append" } do %>
      Next page
    <% end %>
  <% end %>
</turbo-frame>
